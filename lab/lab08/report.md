# CS302 OS Lab08 - Report

Name: 刘仁杰
SID: 11911808

## Answers

### 1.**一个进程有多少个mm_struct? mm_struct的作用是什么？**

1. 

### 2.**一个巨页的大小是多少，如何计算得出巨页的大小？**

巨页大小：$2^{21} \ Bytes=2 \ MBytes$.

### 3.一个4GB的内存空间使用下图所示的二级页表，页面大小为4KB。一个需要在高虚拟地址空间，中虚拟地址空间，和低虚拟地址空间分别使用4MB的连续空间的进程至少需要多大的页表空间？

二级页表中，第二级页号VPN[0]为10个bit，因此可以表示$2^{10}$个不同的页面，每个页面大小为4KB，故一个二级页表可以指向$2^{10}$×4KB=4MB的物理空间。第一级页号VPN[1]同样为10个bit可以指向$2^{10}$个不同的二级页表，因此图中的二级页表机制可以指向$2^{10}$×4MB=4GB的物理空间。一个进程需要使用高虚拟地址空间，中虚拟地址空间，和低虚拟地址空间分别使用4MB的连续空间，即$2^{10}$个页，总共三个二级页表。那么，我们首先需要预留三个第二级页表。除此之外我们还需要一个第一级页表存储这三个二级页表的PTE。

所以总页表空间大小为：$(1+3) \times $PTE_size$ \times 2^{10}$ = $2^{12} \times$PTE_size